(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["enquiry"],{"00af":function(e,t,n){"use strict";n("b72d")},"0714":function(e,t,n){},"0cb2":function(e,t,n){var o=n("22a2"),i=n("c38e");function c(e,t){return o(i(e,t),1)}e.exports=c},"116d":function(e,t,n){},1382:function(e,t,n){"use strict";n("2e1a")},"15c9":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"recommendationImpressions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RecommendationImpressionInputType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clientEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recommendationImpression"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"mutation recommendationImpressions($input: RecommendationImpressionInputType!) {\n  clientEvents {\n    recommendationImpression(input: $input) {\n      unit\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}var i={};function c(e,t){for(var n=0;n<e.definitions.length;n++){var o=e.definitions[n];if(o.name&&o.name.value==t)return o}}function r(e,t){var n={kind:e.kind,definitions:[c(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,r=new Set,a=new Set;o.forEach((function(e){a.add(e)}));while(a.size>0){var s=a;a=new Set,s.forEach((function(e){if(!r.has(e)){r.add(e);var t=i[e]||new Set;t.forEach((function(e){a.add(e)}))}}))}return r.forEach((function(t){var o=c(e,t);o&&n.definitions.push(o)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),i[e.name.value]=t}}))})(),e.exports=n,e.exports["recommendationImpressions"]=r(n,"recommendationImpressions")},"1af1":function(e,t,n){},"1efb":function(e,t,n){},"20d2":function(e,t,n){"use strict";n("c266")},2284:function(e,t,n){"use strict";n("b6a7")},2488:function(e,t,n){var o=n("10dd"),i=n("8746");function c(e,t){return e&&o(e,t,i)}e.exports=c},"251d":function(e,t,n){},"2e1a":function(e,t,n){},"2e3d":function(e,t,n){"use strict";n("3f47")},"31c0":function(e,t,n){"use strict";n("629e")},"32ba":function(e,t,n){"use strict";n("251d")},3459:function(e){e.exports=JSON.parse('{"Privatperson":"user","Företag":"briefcase","Byggherre/Entreprenör":"briefcase","Bostadsrättsförening":"apartment","Villaförening":"home","Ideell förening":"users","Kommun/Myndighet":"capitol"}')},3461:function(e,t,n){},3612:function(e,t,n){},3761:function(e,t,n){},"3b1f":function(e,t,n){},"3ecb2":function(e,t,n){"use strict";n("3761")},"3f2f":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("6254"),i=n("270e"),c=n("e348");function r(){var e=Object(c["a"])(arguments),t=e.text,n=e.options,o=e.metadata;return Object(i["a"])(t,n,o)}function a(){return Object(o["a"])(r,arguments)}},"3f47":function(e,t,n){},"3fc7":function(e,t,n){"use strict";n.r(t);var o=n("f2bf");const i=e=>(Object(o["pushScopeId"])("data-v-28029870"),e=e(),Object(o["popScopeId"])(),e),c={ref:"pageSidebar"},r={class:"enquiry-details-actions"},a=i(()=>Object(o["createElementVNode"])("h4",{class:"enquiry-description-title"},"Beskrivning",-1)),s={class:"enquiry-description"},l={key:1,class:"enquiry-details__sidebar__hr"};function u(e,t,n,i,u,d){const p=Object(o["resolveComponent"])("enquiry-alert-bar"),b=Object(o["resolveComponent"])("enquiry-header"),m=Object(o["resolveComponent"])("google-map"),j=Object(o["resolveComponent"])("enquiry-questions-answers"),O=Object(o["resolveComponent"])("enquiry-files"),f=Object(o["resolveComponent"])("enquiry-dates"),k=Object(o["resolveComponent"])("enquiry-buyer-contact-box"),y=Object(o["resolveComponent"])("enquiry-facts-box"),v=Object(o["resolveComponent"])("enquiry-recommendation-list"),h=Object(o["resolveComponent"])("page-sidebar-layout");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[e.enquiry?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0},{top:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",null,[e.enquiry.purchase?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,"purchase-details":e.enquiry.purchase},null,8,["purchase-details"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(b,{enquiry:e.enquiry,class:"enquiry-details-header"},null,8,["enquiry"])])])]),content:Object(o["withCtx"])(()=>{var t,n,i;return[Object(o["createElementVNode"])("div",null,[a,Object(o["createElementVNode"])("pre",s,Object(o["toDisplayString"])(e.enquiry.description),1),e.enquiry.postCodeCoordinates?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,lat:e.enquiry.postCodeCoordinates.latitude,long:e.enquiry.postCodeCoordinates.longitude,"client-key":e.googleMapsClientKey},null,8,["lat","long","client-key"])):Object(o["createCommentVNode"])("",!0),null!==(t=e.enquiry.questions)&&void 0!==t&&t.length?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:1,questions:e.enquiry.questions},null,8,["questions"])):Object(o["createCommentVNode"])("",!0),null!==(n=e.enquiry.files)&&void 0!==n&&n.length?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:2,files:e.enquiry.files,purchased:e.enquiry.hasPurchased},null,8,["files","purchased"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(f,{published:e.enquiry.publishedAt,bought:null===(i=e.enquiry.order)||void 0===i?void 0:i.orderDate,"count-slots":e.enquiry.orderCount||0,"max-slots":e.enquiry.marketplaceSlots},null,8,["published","bought","count-slots","max-slots"])])]}),sidebar:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",null,[d.showBuyerInfo?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:0,buyer:e.enquiry.buyer,"buyer-type":e.enquiry.who?e.enquiry.who.name:""},null,8,["buyer","buyer-type"])):Object(o["createCommentVNode"])("",!0),d.showBuyerInfo?(Object(o["openBlock"])(),Object(o["createElementBlock"])("hr",l)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(y,{enquiry:e.enquiry},null,8,["enquiry"]),e.isShowRecommendations?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:2,title:"Liknande förfrågningar"})):Object(o["createCommentVNode"])("",!0)])]),_:1})):Object(o["createCommentVNode"])("",!0)],512)}var d=n("5502");const p={key:0,class:"map-responsive"},b=["src"];function m(e,t,n,i,c,r){return n.lat&&n.long?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,[Object(o["createElementVNode"])("iframe",{src:r.mapUrl,width:"302",height:"227",style:{border:"0"},allowfullscreen:""},null,8,b)])):Object(o["createCommentVNode"])("",!0)}var j={props:{clientKey:{type:String,required:!0},lat:{type:[String,Number],required:!0},long:{type:[String,Number],required:!0}},computed:{mapUrl(){if(this.lat&&this.long&&this.clientKey)return`https://www.google.com/maps/embed/v1/view?zoom=11&center=${this.lat},${this.long}&key=${this.clientKey}`}}},O=(n("b26f"),n("7f94")),f=n.n(O);const k=f()(j,[["render",m],["__scopeId","data-v-731b165d"]]);var y=k;const v={class:"contact-box"},h={class:"media"},g={class:"media-left"},S={class:"media-content"},B={class:"buyer-name"},N={class:"text-label subtitle"},E={class:"contact-info"},q={key:0,class:"media media-center contact-info__item"},C={class:"media-left"},V={key:1,class:"media media-center contact-info__item"},w={class:"media-left"},x={class:"media media-center contact-info__item"},D={class:"media-left"},_={class:"media-content"},I=Object(o["createTextVNode"])(" Skicka meddelande "),T={key:2,class:"media media-center contact-info__item dont-break-out"},$={class:"media-left"},L=["href"],A={key:3,class:"media media-center contact-info__item"},M={class:"media-left"},z={class:"media-content text-label"},F={key:0};function P(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("profile-avatar"),s=Object(o["resolveComponent"])("svg-icon"),l=Object(o["resolveComponent"])("phone-link"),u=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",v,[Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("div",g,[Object(o["createVNode"])(a,{name:r.buyerName,class:"profile-avatar small"},null,8,["name"])]),Object(o["createElementVNode"])("div",S,[Object(o["createElementVNode"])("div",B,Object(o["toDisplayString"])(r.buyerName),1),Object(o["createElementVNode"])("div",N,Object(o["toDisplayString"])(n.buyerType),1)])]),Object(o["createElementVNode"])("div",E,[n.buyer.phone?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",q,[Object(o["createElementVNode"])("div",C,[Object(o["createVNode"])(s,{icon:"phone-fill",class:"icon contact-icon"})]),Object(o["createVNode"])(l,{number:n.buyer.phone,class:"text-label"},null,8,["number"])])):Object(o["createCommentVNode"])("",!0),n.buyer.phone2?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",V,[Object(o["createElementVNode"])("div",w,[Object(o["createVNode"])(s,{icon:"phone-fill",class:"icon contact-icon"})]),Object(o["createVNode"])(l,{number:n.buyer.phone2,class:"text-label"},null,8,["number"])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",x,[Object(o["createElementVNode"])("div",D,[Object(o["createVNode"])(s,{icon:"bold-chat-square",class:"icon contact-icon"})]),Object(o["createElementVNode"])("div",_,[Object(o["createVNode"])(u,{to:{name:e.$route.meta.parent+".enquiry.messages"},class:"link text-label"},{default:Object(o["withCtx"])(()=>[I]),_:1},8,["to"]),n.buyer.email&&!e.showEmail?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:"small subtitle show-email-link",onClick:t[0]||(t[0]=t=>e.showEmail=!e.showEmail)}," (visa mail) ")):Object(o["createCommentVNode"])("",!0)])]),n.buyer.email&&e.showEmail?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",T,[Object(o["createElementVNode"])("div",$,[Object(o["createVNode"])(s,{icon:"envelope-small",class:"icon contact-icon"})]),e.showEmail?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,href:"mailto:"+n.buyer.email,target:"_blank",class:"link text-label"},Object(o["toDisplayString"])(n.buyer.email),9,L)):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0),n.buyer.postCode?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",A,[Object(o["createElementVNode"])("div",M,[Object(o["createVNode"])(s,{icon:"pin-fill",class:"icon contact-icon"})]),Object(o["createElementVNode"])("div",z,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.buyer.postCode)+" ",1),n.buyer.postArea?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",F,Object(o["toDisplayString"])(n.buyer.postArea),1)):Object(o["createCommentVNode"])("",!0)])])):Object(o["createCommentVNode"])("",!0)])])}var R=n("ad88"),U=n("b6e6"),K={components:{PhoneLink:R["a"],ProfileAvatar:U["a"]},props:{buyer:{type:Object,required:!0},buyerType:{type:String,required:!0}},data:()=>({showEmail:!1}),computed:{buyerName(){let e=this.buyer.firstName?this.buyer.firstName:"";return e+=this.buyer.lastName?" "+this.buyer.lastName:"",e}}};n("61a6");const G=f()(K,[["render",P],["__scopeId","data-v-a8928b78"]]);var Z=G;const Y={key:0,class:"enquiry-facts-box"};function H(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("enquiry-facts-box-item");return n.enquiry?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Y,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.facts,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:t,text:e.text,label:e.label,icon:e.icon,tooltip:e.tooltip,class:Object(o["normalizeClass"])("fact-"+(t+1))},null,8,["text","label","icon","tooltip","class"]))),128))])):Object(o["createCommentVNode"])("",!0)}n("3c78");var Q=n("3459");const J={class:"media media-top"},W={class:"media-left"},X={class:"media-content"},ee={class:"enquiry-fact-value"},te={key:0};function ne(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("svg-icon"),s=Object(o["resolveDirective"])("tooltip");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])([{"has-icon":n.icon},"enquiry-fact"])},[Object(o["createElementVNode"])("div",J,[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",W,[Object(o["createVNode"])(a,{icon:n.icon,size:"mini",class:"icon"},null,8,["icon"])])),[[s,n.label]]),Object(o["createElementVNode"])("div",X,[Object(o["createElementVNode"])("span",ee,[n.tooltip?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",te,"Uppskattat värde:")):Object(o["createCommentVNode"])("",!0),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(n.text)+" ",1),n.tooltip?Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:1,icon:"admin/information",class:"icon","hide-in-print":""},null,512)),[[s,n.tooltip,void 0,{bottom:!0}]]):Object(o["createCommentVNode"])("",!0)])])])],2)}var oe={props:{text:{type:String,required:!0},label:{type:String,required:!0},icon:{type:String,default:""},tooltip:{type:String,default:""}}};n("c82a");const ie=f()(oe,[["render",ne],["__scopeId","data-v-3ad6877c"]]);var ce=ie,re={components:{EnquiryFactsBoxItem:ce},props:{enquiry:{type:Object,required:!0}},computed:{...Object(d["c"])(["hasFeatureGo"]),facts(){var e,t,n,o,i,c,r,a,s,l;const u=[];if(null!==(e=this.enquiry)&&void 0!==e&&null!==(t=e.what)&&void 0!==t&&t.name&&u.push({text:this.enquiry.what.name,label:"Kategori",icon:"category"}),null!==(n=this.enquiry)&&void 0!==n&&null!==(o=n.where)&&void 0!==o&&o.name||this.enquiry.postCode){var d,p;const e=[];this.enquiry.postCode&&e.push(this.enquiry.postCode),null!==(d=this.enquiry)&&void 0!==d&&null!==(p=d.where)&&void 0!==p&&p.name&&e.push(this.enquiry.where.name),u.push({text:e.join(", "),label:"Ort",icon:"pin-fill"})}if(null!==(i=this.enquiry)&&void 0!==i&&null!==(c=i.assignmentValue)&&void 0!==c&&c.name&&u.push({text:this.enquiry.assignmentValue.name,label:"Uppskattat uppdragsvärde",icon:"streamline-bold/accounting-bills",tooltip:"Automatiskt uppskattat värde från Offerta. Du sätter själv priset när du kontaktar kunden."}),null!==(r=this.enquiry)&&void 0!==r&&null!==(a=r.who)&&void 0!==a&&a.name&&u.push({text:this.enquiry.who.name,label:"Ska utföras åt",icon:Q[this.enquiry.who.name]}),null!==(s=this.enquiry)&&void 0!==s&&null!==(l=s.when)&&void 0!==l&&l.name&&u.push({text:this.enquiry.when.name,label:"När",icon:"streamline-bold/hourglass"}),this.enquiry.contactPreference&&u.push({text:this.enquiry.contactPreference.name?this.enquiry.contactPreference.name:this.enquiry.contactPreference.id,label:"Vill bli kontaktad",icon:"bold-time-clock-circle"}),this.hasFeatureGo&&void 0!==this.enquiry.price&&null!==this.enquiry.price&&!this.enquiry.purchase){const e=this.$filters.compactCurrency(this.enquiry.price);u.push({text:e+" (ex. moms)",label:"Pris",icon:"bold-cash-payment-bills"})}return u}}};n("d5ba7");const ae=f()(re,[["render",H],["__scopeId","data-v-67c068b6"]]);var se=ae;const le=e=>(Object(o["pushScopeId"])("data-v-3425b858"),e=e(),Object(o["popScopeId"])(),e),ue={class:"qa-box"},de=le(()=>Object(o["createElementVNode"])("hr",null,null,-1)),pe=le(()=>Object(o["createElementVNode"])("h4",null,"Frågor och svar",-1)),be={key:0,class:"list answer"},me={key:1,class:"answer"},je={key:2,class:"answer"};function Oe(e,t,n,i,c,r){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ue,[de,pe,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.questions,(t,n)=>{var i,c;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:n,class:"qa-item"},[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(t.questionText),1),(null===(i=t.answerList)||void 0===i?void 0:i.length)>1&&t.answerList<5?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",be,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.answerList,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t},Object(o["toDisplayString"])(e),1))),128))])):(null===(c=t.answerList)||void 0===c?void 0:c.length)>=5?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",me,Object(o["toDisplayString"])(e.$filters.commaSeparate(t.answerList)),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",je,Object(o["toDisplayString"])(t.answerText),1))])}),128))])}var fe={props:{questions:{type:Array,default:()=>[]}}};n("32ba");const ke=f()(fe,[["render",Oe],["__scopeId","data-v-3425b858"]]);var ye=ke;const ve=e=>(Object(o["pushScopeId"])("data-v-576a7888"),e=e(),Object(o["popScopeId"])(),e),he=ve(()=>Object(o["createElementVNode"])("hr",null,null,-1)),ge=ve(()=>Object(o["createElementVNode"])("h4",null,"Filer",-1)),Se={class:"file-items"};function Be(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("file-item");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[he,ge,Object(o["createElementVNode"])("div",Se,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.files,(t,i)=>(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:i,name:t.fileName,size:t.fileSize,url:t.fileUrl,token:e.token,class:Object(o["normalizeClass"])({disabled:!n.purchased&&t.hasPurchasedStatus})},null,8,["name","size","url","token","class"]))),128))])])}var Ne=n("6ece"),Ee={components:{FileItem:Ne["a"]},props:{files:{type:Array,required:!0},purchased:{type:Boolean,required:!0}},computed:{...Object(d["c"])(["token"])}};n("6efe");const qe=f()(Ee,[["render",Be],["__scopeId","data-v-576a7888"]]);var Ce=qe;const Ve=e=>(Object(o["pushScopeId"])("data-v-fd2d2cb8"),e=e(),Object(o["popScopeId"])(),e),we=Ve(()=>Object(o["createElementVNode"])("hr",null,null,-1)),xe={class:"enquiry-description"},De={class:"enquiry-description"},_e={key:0,class:"enquiry-description"},Ie={key:1,class:"enquiry-description"};function Te(e,t,n,i,c,r){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[we,Object(o["createElementVNode"])("div",xe," Förfrågan publicerad "+Object(o["toDisplayString"])(r.publishedDate)+" kl "+Object(o["toDisplayString"])(r.publishedTime),1),n.bought?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createElementVNode"])("div",De," Du besvarade förfrågan "+Object(o["toDisplayString"])(r.boughtDate)+" kl "+Object(o["toDisplayString"])(r.boughtTime),1),1===n.countSlots?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_e," Du är det enda företaget som har besvarat förfrågan, av maximalt "+Object(o["toDisplayString"])(n.maxSlots),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ie," Totalt har "+Object(o["toDisplayString"])(n.countSlots)+" företag besvarat förfrågan, av maximalt "+Object(o["toDisplayString"])(n.maxSlots),1))],64)):Object(o["createCommentVNode"])("",!0)])}var $e=n("8d35"),Le=n.n($e),Ae={props:{countSlots:{type:[Number,String],required:!0},maxSlots:{type:[Number,String],required:!1,default:6},bought:{type:String,default:""},published:{type:[Number,String],required:!0}},computed:{publishedDate(){return Le()(this.published).format("YYYY-MM-DD")},publishedTime(){return Le()(this.published).format("HH:mm")},boughtDate(){return Le()(this.bought).format("YYYY-MM-DD")},boughtTime(){return Le()(this.bought).format("HH:mm")}}};n("1382");const Me=f()(Ae,[["render",Te],["__scopeId","data-v-fd2d2cb8"]]);var ze=Me;const Fe={key:0,class:"recommendation-list"},Pe=Object(o["createElementVNode"])("hr",{class:"recommendation-list__hr"},null,-1),Re={class:"recommendation-list__title"},Ue={key:0,class:"text-center"};function Ke(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("enquiry-recommendation-item"),s=Object(o["resolveDirective"])("tooltip");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Transition"],{name:"recommendation-fade-in",mode:"in-out"},{default:Object(o["withCtx"])(()=>[e.recommendations.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fe,[Pe,Object(o["createElementVNode"])("h5",Re,Object(o["toDisplayString"])(n.title),1),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.recommendedEnquiries,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:t,enquiry:e,onOnView:n=>r.trackRecommendationEnquiry("recommendation-impression",null===e||void 0===e?void 0:e.id,t),onClick:e=>r.selectEnquiry(t)},null,8,["enquiry","onOnView","onClick"]))),128)),!c.isFullListToggled&&e.recommendations.length>3?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ue,[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{class:"button-rounded-small button-light-outline",onClick:t[0]||(t[0]=e=>c.isFullListToggled=!0)},[Object(o["createTextVNode"])(" + "+Object(o["toDisplayString"])(e.recommendations.length-3),1)])),[[s,`Visa ytterligare ${e.recommendations.length-3} liknande förfrågningar`]])])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)]),_:1})}const Ge={class:"recommendation"},Ze={class:"recommendation__subtitle"},Ye={key:0,class:"property"},He={key:1,class:"property"},Qe={key:2,class:"property"};function Je(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("buyer-type-icon"),s=Object(o["resolveComponent"])("svg-icon"),l=Object(o["resolveComponent"])("order-progress"),u=Object(o["resolveDirective"])("observe-visibility");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ge,[Object(o["createElementVNode"])("h6",null,Object(o["toDisplayString"])(n.enquiry.name),1),Object(o["createElementVNode"])("div",Ze,[n.enquiry.who?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ye,[Object(o["createVNode"])(a,{"buyer-type":n.enquiry.who.name,class:"icon"},null,8,["buyer-type"]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(n.enquiry.who.name),1)])):Object(o["createCommentVNode"])("",!0),n.enquiry.when?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",He,[Object(o["createVNode"])(s,{icon:"streamline-bold/hourglass",class:"icon",size:"tiny"}),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(n.enquiry.when.name),1)])):Object(o["createCommentVNode"])("",!0),n.enquiry.assignmentValue?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Qe,[Object(o["createVNode"])(s,{icon:"streamline-bold/accounting-bills",class:"icon",size:"tiny"}),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(n.enquiry.assignmentValue.name),1)])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(l,{count:n.enquiry.orderCount||0,max:n.enquiry.marketplaceSlots,"show-text":!1},null,8,["count","max"])])])),[[u,{callback:r.visibilityChanged}]])}var We=n("0e28");function Xe(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("svg-icon");return Object(o["openBlock"])(),Object(o["createBlock"])(a,{icon:r.icon,size:"tiny"},null,8,["icon"])}var et={props:{buyerType:{type:String,default:""}},computed:{icon(){return this.buyerType?Q[this.buyerType]:"user"}}};const tt=f()(et,[["render",Xe]]);var nt=tt,ot={emits:["on-view"],components:{OrderProgress:We["a"],BuyerTypeIcon:nt},props:{enquiry:{type:Object,required:!0}},data(){return{wasShown:!1}},methods:{visibilityChanged(e){e&&!this.wasShown&&(this.wasShown=!0,this.$emit("on-view"))}}};n("20d2");const it=f()(ot,[["render",Je]]);var ct=it,rt=n("15c9"),at=n.n(rt),st=n("7d5f"),lt=n.n(st),ut={components:{EnquiryRecommendationItem:ct},props:{title:{type:String,default:""}},data(){return{isFullListToggled:!1}},computed:{...Object(d["c"])(["userId","isShowRecommendations"]),...Object(d["c"])("enquiry",["recommendations"]),recommendedEnquiries(){return this.recommendations.length>3&&this.isFullListToggled?this.recommendations:[...this.recommendations].slice(0,3)}},methods:{selectEnquiry(e){if(Number.isNaN(e))return;const t=this.recommendations[e].id;this.$router.push({name:"marketplace.enquiry",params:{enquiryId:t,filter:"all"}}),this.trackRecommendationEnquiry("recommendation-click",t,e)},getParentRout(){return this.$route.meta.parent?this.$route.meta.parent:this.$route.name},trackRecommendationEnquiry(e,t,n){switch(e){case"recommendation-click":this.trackRecommendationClick(t,n);break;case"recommendation-impression":this.trackRecommendationImpression(t,n);break;default:break}},trackMutation(e,t,n){const o={enquiryId:this.$route.params.enquiryId,suggestedEnquiryId:t,position:n,context:this.getParentRout()};this.$apollo.mutate({mutation:e,variables:{input:o}})},trackRecommendationClick(e,t){this.trackMutation(lt.a,e,t)},trackRecommendationImpression(e,t){this.trackMutation(at.a,e,t)}}};n("00af");const dt=f()(ut,[["render",Ke]]);var pt=dt,bt=n("a804"),mt=n("fa57");const jt={key:0,class:"block block-first"},Ot=["onClick"];function ft(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("router-link"),s=Object(o["resolveComponent"])("alert-box");return r.hasAlerts?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",jt,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.alerts,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.text,status:"warning",class:"alert-point"},{text:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.text)+" ",1),e.linkText&&e.routeName?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:0,to:{name:e.routeName},onClick:t=>r.addTracking(e.routeName)},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.linkText),1)]),_:2},1032,["to","onClick"])):Object(o["createCommentVNode"])("",!0),e.isStamp?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,class:"link",onClick:t=>r.onAddMissingStamp(e)}," Lägg till ",8,Ot)):Object(o["createCommentVNode"])("",!0)])]),_:2},1024))),128))])):Object(o["createCommentVNode"])("",!0)}var kt=n("0cb2"),yt=n.n(kt),vt=n("7a19"),ht=n("ee85"),gt={emits:["show-price"],components:{AlertBox:vt["a"]},props:{purchaseDetails:{type:Object,required:!0}},computed:{...Object(d["c"])("profile",["companyProfile","stamps"]),...Object(d["c"])(["isEligibleForFlex","accountAnnotations"]),hasAlerts(){var e,t;return(null===(e=this.alerts)||void 0===e?void 0:e.length)>0&&(null===(t=this.alerts)||void 0===t?void 0:t.some(e=>null!==e))},alertsFormatted(){if(this.purchaseDetails.descriptions){let e=this.purchaseDetails.descriptions.filter(e=>"supplier-purchase-prohibited"===e.descriptionKey);return 0===e.length&&(e=this.purchaseDetails.descriptions),yt()(e,e=>(e.descriptionMeta||[null]).map(t=>({...e,...t})))}return[]},alerts(){var e,t;let n=this.alertsFormatted;var o;!this.isEligibleForFlex||null===(e=this.accountAnnotations)||void 0===e||!e.isPaused||null!==(t=this.accountAnnotations)&&void 0!==t&&t.isCreditScoreApproved||(n=null===(o=this.purchaseDetails)||void 0===o?void 0:o.descriptions.filter(e=>{var t,n,o;return"supplier-paused"!==(null===(t=e.descriptionKey)||void 0===t?void 0:t.toLowerCase())&&"no-active-subscriptions"!==(null===(n=e.descriptionKey)||void 0===n?void 0:n.toLowerCase())&&"no-active-flex-subscriptions"!==(null===(o=e.descriptionKey)||void 0===o?void 0:o.toLowerCase())}),n=[{descriptionKey:"paused-eligible-for-flex"}]);return n.map(e=>{const t=ht[e.descriptionKey];let n={...e,id:e.descriptionKey,text:null===t||void 0===t?void 0:t.description,linkText:null===t||void 0===t?void 0:t.linkText,routeName:null===t||void 0===t?void 0:t.routeName};return null!==t&&void 0!==t&&t.hasMeta&&"required-stamps-missed"===e.descriptionKey?(n={...n,text:`Du behöver ha ${e.name} för att besvara denna förfrågan.`,isStamp:!0},this.$emit("show-price",!0)):"not-enough-coins"===e.descriptionKey&&(this.$track({event_category:"topup",event_action:"view",event_name:"infoMessage"}),this.$emit("show-price",!0)),n||("enquiry-is-purchased"!==e.descriptionKey?t.description:null)})}},methods:{onAddMissingStamp(e){this.$router.push({name:"stamps",params:{search:e.name}})},addTracking(e){"flexsummary"===e.toLowerCase()&&this.$track({event_category:"topup",event_action:"click",event_name:"infoMessage"})}}};n("d0e0");const St=f()(gt,[["render",ft],["__scopeId","data-v-43122c60"]]);var Bt=St,Nt={components:{EnquiryDates:ze,GoogleMap:y,EnquiryBuyerContactBox:Z,EnquiryFactsBox:se,EnquiryFiles:Ce,EnquiryQuestionsAnswers:ye,PageSidebarLayout:mt["a"],EnquiryRecommendationList:pt,EnquiryHeader:bt["a"],EnquiryAlertBar:Bt},computed:{...Object(d["c"])("enquiry",["enquiry"]),...Object(d["c"])(["googleMapsClientKey"]),...Object(d["c"])(["isShowRecommendations"]),showBuyerInfo(){var e;return(null===(e=this.enquiry.order)||void 0===e?void 0:e.id)&&this.enquiry.buyer}}};n("2e3d");const Et=f()(Nt,[["render",u],["__scopeId","data-v-28029870"]]);t["default"]=Et},4176:function(e,t,n){},"46ae":function(e,t,n){"use strict";n("4b58")},"4b58":function(e,t,n){},"4bba":function(e,t,n){},"4c83":function(e,t,n){"use strict";n("e74d")},"4f4b":function(e,t,n){var o=n("2488"),i=n("7713"),c=i(o);e.exports=c},"51a8":function(e,t,n){"use strict";n("3461")},"61a6":function(e,t,n){"use strict";n("4176")},"629e":function(e,t,n){},"6b21":function(e,t,n){"use strict";n("9cfc")},"6ece":function(e,t,n){"use strict";var o=n("f2bf");const i=["href"],c={class:"file-image media media-center"},r=["src"],a={class:"file-content"},s={class:"file-name"},l={class:"subtitle"},u={key:0,class:"media-right-small"};function d(e,t,n,d,p,b){const m=Object(o["resolveComponent"])("svg-icon"),j=Object(o["resolveComponent"])("spinner"),O=Object(o["resolveDirective"])("tooltip");return Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{href:b.fileUrl,class:Object(o["normalizeClass"])([[{disabled:n.disabled},{"no-margin":n.noMargin}],"file-item"]),target:"_blank"},[Object(o["createElementVNode"])("div",c,[b.isImage&&b.fileUrl?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,src:b.fileUrl},null,8,r)):(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:1,icon:b.icon,class:"icon"},null,8,["icon"]))]),Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",s,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.name),1),Object(o["createElementVNode"])("span",l,Object(o["toDisplayString"])(e.$filters.fileSize(n.size)),1)])]),n.editable?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",u,[n.isDeleting?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0})):Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"button-square-rounded-small button-transparent",onClick:t[0]||(t[0]=Object(o["withModifiers"])((...e)=>b.deleteFile&&b.deleteFile(...e),["stop","prevent"]))},[Object(o["createVNode"])(m,{icon:"navigation/x-button",class:"icon"})])),[[O,"Ta bort fil"]])])):Object(o["createCommentVNode"])("",!0)],10,i)}var p=n("5502"),b=n("2165"),m={emits:["delete"],components:{Spinner:b["a"]},props:{name:{type:String,required:!0},size:{type:Number,default:null},url:{type:String,default:""},token:{type:String,default:""},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},isDeleting:{type:Boolean,default:!1},noMargin:{type:Boolean,default:!1}},computed:{...Object(p["c"])(["apiBaseUrl"]),isImage(){return!!this.name.match(/.(jpg|jpeg|png|gif)$/i)},icon(){return this.name.match(/.(pdf)$/i)?"pdf":this.isImage?"image":"paperclip"},fileUrl(){return this.disabled?null:this.url.includes("authorization")?this.url:new URL(`${this.url}?authorization=${this.token}`,this.apiBaseUrl).href}},methods:{deleteFile(){this.$emit("delete")}}},j=(n("8b57"),n("7f94")),O=n.n(j);const f=O()(m,[["render",d],["__scopeId","data-v-9e022004"]]);t["a"]=f},"6efe":function(e,t,n){"use strict";n("9f5d")},"75b0":function(e,t,n){var o=n("4f4b"),i=n("4b20");function c(e,t){var n=-1,c=i(e)?Array(e.length):[];return o(e,(function(e,o,i){c[++n]=t(e,o,i)})),c}e.exports=c},7713:function(e,t,n){var o=n("4b20");function i(e,t){return function(n,i){if(null==n)return n;if(!o(n))return e(n,i);var c=n.length,r=t?c:-1,a=Object(n);while(t?r--:++r<c)if(!1===i(a[r],r,a))break;return n}}e.exports=i},"77b4":function(e,t,n){"use strict";n("1af1")},"7a19":function(e,t,n){"use strict";var o=n("f2bf");const i=e=>(Object(o["pushScopeId"])("data-v-445dd347"),e=e(),Object(o["popScopeId"])(),e),c={class:"icon-wrapper"},r={key:0,class:"alert-icon","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},a=i(()=>Object(o["createElementVNode"])("title",null,"alert-success",-1)),s=i(()=>Object(o["createElementVNode"])("path",{d:"M32,0A32,32,0,1,0,64,32,32,32,0,0,0,32,0ZM47.15,23.94,27.54,43.76a3,3,0,0,1-4.08.18l-.05,0-6.88-6a2.94,2.94,0,1,1,3.86-4.44l4.86,4.22L43,19.8a2.94,2.94,0,0,1,4.17,0h0A3,3,0,0,1,47.15,23.94Z"},null,-1)),l=[a,s],u={key:1,class:"alert-icon","data-name":"Capa 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 483.54 455.99"},d=i(()=>Object(o["createElementVNode"])("title",null,"alert-error",-1)),p=i(()=>Object(o["createElementVNode"])("path",{d:"M480,425.05,269.05,29.85a30.35,30.35,0,0,0-26.78-16.08h0a30.36,30.36,0,0,0-26.78,16.05L3.6,425a30.37,30.37,0,0,0,26.79,44.74H453.12A30.41,30.41,0,0,0,480,425.05ZM242.24,409a30.4,30.4,0,1,1,30.4-30.39A30.4,30.4,0,0,1,242.24,409Zm30.43-121.11a30.4,30.4,0,0,1-60.8,0V166.26a30.4,30.4,0,0,1,60.8,0Z",transform:"translate(0 -13.77)"},null,-1)),b=[d,p],m={key:2,class:"alert-icon","data-name":"Capa 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},j=i(()=>Object(o["createElementVNode"])("title",null,"disable",-1)),O=i(()=>Object(o["createElementVNode"])("path",{d:"M256,0C114.83,0,0,114.84,0,256S114.83,512,256,512,512,397.16,512,256,397.17,0,256,0Zm0,426.67C161.9,426.67,85.33,350.1,85.33,256a169.36,169.36,0,0,1,23.82-86.52L342.52,402.85A169.36,169.36,0,0,1,256,426.67Zm146.85-84.15L169.48,109.15A169.36,169.36,0,0,1,256,85.33c94.1,0,170.67,76.57,170.67,170.67A169.36,169.36,0,0,1,402.85,342.52Z"},null,-1)),f=[j,O],k={key:3,class:"alert-icon","data-name":"Capa 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 46 46"},y=i(()=>Object(o["createElementVNode"])("title",null,"alert-info",-1)),v=i(()=>Object(o["createElementVNode"])("path",{d:"M39.26,6.74a23,23,0,1,0,0,32.52A23,23,0,0,0,39.26,6.74ZM26,33a3,3,0,0,1-6,0V21a3,3,0,0,1,6,0ZM23,15.87a2.68,2.68,0,0,1-2.85-2.73A2.68,2.68,0,0,1,23,10.37a2.76,2.76,0,1,1,0,5.5Z",transform:"translate(0 0)"},null,-1)),h=[y,v],g={class:"full-width"};function S(e,t,n,i,a,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])([s.cssClass,"alert"])},[Object(o["createElementVNode"])("div",c,[Object(o["renderSlot"])(e.$slots,"icon",{},()=>["success"===s.alertType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",r,l)):"error"===s.alertType||"warning"===s.alertType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",u,b)):"inactive"===s.alertType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",m,f)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",k,h))],!0)]),Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("strong",null,[Object(o["renderSlot"])(e.$slots,"heading",{},void 0,!0)]),Object(o["createElementVNode"])("div",null,[Object(o["renderSlot"])(e.$slots,"text",{},void 0,!0)])])],2)}var B={props:{status:{type:String,default:"info"},small:{type:Boolean,default:!1},clean:{type:Boolean,default:!1}},computed:{alertType(){const e=["success","warning","error","inactive"];return e.includes(this.status)?this.status:"info"},cssClass(){let e=this.alertType;return this.small&&(e+=" small"),this.clean&&(e+=" clean"),e}}},N=(n("2284"),n("7f94")),E=n.n(N);const q=E()(B,[["render",S],["__scopeId","data-v-445dd347"]]);t["a"]=q},"7d5f":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"recommendationCLick"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RecommendationClickInputType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clientEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recommendationClick"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};n.loc.source={body:"mutation recommendationCLick($input: RecommendationClickInputType!) {\n  clientEvents {\n    recommendationClick(input: $input) {\n      unit\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}var i={};function c(e,t){for(var n=0;n<e.definitions.length;n++){var o=e.definitions[n];if(o.name&&o.name.value==t)return o}}function r(e,t){var n={kind:e.kind,definitions:[c(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,r=new Set,a=new Set;o.forEach((function(e){a.add(e)}));while(a.size>0){var s=a;a=new Set,s.forEach((function(e){if(!r.has(e)){r.add(e);var t=i[e]||new Set;t.forEach((function(e){a.add(e)}))}}))}return r.forEach((function(t){var o=c(e,t);o&&n.definitions.push(o)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),i[e.name.value]=t}}))})(),e.exports=n,e.exports["recommendationCLick"]=r(n,"recommendationCLick")},"8b57":function(e,t,n){"use strict";n("116d")},"9cc3":function(e,t,n){},"9cfc":function(e,t,n){},"9ea2":function(e,t,n){"use strict";var o=n("f2bf");const i={class:"enquiry-locked"},c={class:"enquiry-info"};function r(e,t,n,r,a,s){const l=Object(o["resolveComponent"])("svg-icon"),u=Object(o["resolveComponent"])("enquiry-action-bar");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,[Object(o["createVNode"])(l,{icon:"lock",size:"2x-large"}),Object(o["createElementVNode"])("p",c,[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)]),Object(o["createVNode"])(u,{enquiry:n.enquiry,centered:!0},null,8,["enquiry"])])}var a=n("dc40"),s={components:{EnquiryActionBar:a["a"]},props:{enquiry:{type:Object,required:!0}}},l=(n("b3d9"),n("7f94")),u=n.n(l);const d=u()(s,[["render",r],["__scopeId","data-v-6523bfa6"]]);t["a"]=d},"9f5d":function(e,t,n){},a804:function(e,t,n){"use strict";var o=n("f2bf");const i={class:"enquiry-header-title"},c={class:"enquiry-header-extra"};function r(e,t,n,r,a,s){const l=Object(o["resolveComponent"])("enquiry-name-title"),u=Object(o["resolveComponent"])("enquiry-label-picker");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])([{"enquiry-header--with-progress":!n.enquiry.order},"enquiry-header"])},[Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(l,{name:n.enquiry.name,"public-id":n.enquiry.publicId,order:n.enquiry.order},null,8,["name","public-id","order"])]),Object(o["createElementVNode"])("div",c,[n.enquiry.order?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,label:n.enquiry.order.label,onSelected:s.onLabelSelected},null,8,["label","onSelected"])):Object(o["createCommentVNode"])("",!0)])],2)}var a=n("5502");const s={class:"text-h3"},l={key:0,class:"small subtitle"};function u(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("rating-stars");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.name)+" ",1),n.publicId?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",l," #"+Object(o["toDisplayString"])(n.publicId),1)):Object(o["createCommentVNode"])("",!0),r.grade?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:1,"rating-value":r.grade,class:"rating-stars"},null,8,["rating-value"])):Object(o["createCommentVNode"])("",!0)])}var d=n("0334"),p={components:{RatingStars:d["a"]},props:{name:{type:String,default:""},publicId:{type:String,default:""},order:{type:Object,default:()=>{}}},computed:{grade(){var e,t;return(null===(e=this.order)||void 0===e||null===(t=e.rating)||void 0===t?void 0:t.grade)||null}}},b=(n("f44b"),n("7f94")),m=n.n(b);const j=m()(p,[["render",u],["__scopeId","data-v-620f67d4"]]);var O=j,f=n("c8e4"),k={components:{EnquiryLabelPicker:f["a"],EnquiryNameTitle:O},props:{enquiry:{type:Object,required:!0}},methods:{...Object(a["b"])("enquiry",["updateLabel"]),async onLabelSelected(e){try{await this.updateLabel({label:e,enquiry:this.enquiry})}catch(t){this.$notification.error("Något gick fel, försök igen")}}}};n("6b21");const y=m()(k,[["render",r]]);t["a"]=y},ad88:function(e,t,n){"use strict";var o=n("f2bf");const i=["href"];function c(e,t,n,c,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{href:a.link,class:"link"},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a.label),1)],8,i)}var r=n("3f2f"),a=n("ed95"),s={props:{number:{type:String,required:!0}},computed:{link(){return"tel: "+this.number},label(){try{const e=Object(r["a"])(this.number,"SE");let t="INTERNATIONAL";return"SE"===e.country&&(t="NATIONAL"),Object(a["a"])(e,t)||this.number}catch(e){return console.error(e),this.number}}}},l=n("7f94"),u=n.n(l);const d=u()(s,[["render",c]]);t["a"]=d},b26f:function(e,t,n){"use strict";n("9cc3")},b3d9:function(e,t,n){"use strict";n("fb20")},b4e2:function(e,t,n){},b6a7:function(e,t,n){},b6e6:function(e,t,n){"use strict";var o=n("f2bf");const i={key:0};function c(e,t,n,c,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{style:Object(o["normalizeStyle"])(a.styleObject),class:Object(o["normalizeClass"])([a.classes,"placeholder-profile-img"])},[n.imageUrl?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",i,Object(o["toDisplayString"])(e.$filters.initials(n.name)),1))],6)}function r(e){let t=0;if(null===e||0===e.length)return t;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t),t&=t;return t}var a={props:{name:{type:String,required:!0},imageUrl:{type:String,required:!1,default:""},size:{type:String,default:"medium",validator:e=>["","small","medium","large"].includes(e)}},computed:{styleObject(){return{background:this.imageUrl?`url(${this.imageUrl}) center / cover no-repeat`:this.getBackgroundColor(r(this.name)),color:this.getTextColor(r(this.name))}},classes(){return[this.size?this.size:void 0]}},methods:{getBackgroundColor(e){const t=e%360;return`hsl(${t}, 50%, 93%)`},getTextColor(e){const t=e%360;return`hsl(${t}, 45%, 40%)`}}},s=(n("31c0"),n("7f94")),l=n.n(s);const u=l()(a,[["render",c],["__scopeId","data-v-34909c4b"]]);t["a"]=u},b72d:function(e,t,n){},c266:function(e,t,n){},c38e:function(e,t,n){var o=n("3663"),i=n("b43c"),c=n("75b0"),r=n("3ea9");function a(e,t){var n=r(e)?o:c;return n(e,i(t,3))}e.exports=a},c4d9:function(e,t,n){"use strict";n("3612")},c82a:function(e,t,n){"use strict";n("1efb")},d0e0:function(e,t,n){"use strict";n("4bba")},d34d:function(e,t,n){"use strict";n("fbe7")},d5ba7:function(e,t,n){"use strict";n("f7ea")},d942:function(e,t,n){"use strict";n("3b1f")},e74d:function(e,t,n){},ed60:function(e,t,n){"use strict";n("0714")},ed95:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var o=n("6254"),i=n("bff2"),c=n("270e");function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){return p(e)||d(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,c=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(c.push(o.value),t&&c.length===t)break}catch(s){a=!0,i=s}finally{try{r||null==n["return"]||n["return"]()}finally{if(a)throw i}}return c}}function p(e){if(Array.isArray(e))return e}function b(){var e=m(arguments),t=e.input,n=e.format,o=e.options,c=e.metadata;return Object(i["a"])(t,n,o,c)}function m(e){var t,n,o,i,r=Array.prototype.slice.call(e),s=a(r,5),l=s[0],u=s[1],d=s[2],p=s[3],b=s[4];if("string"===typeof l)if("string"===typeof d)n=d,b?(o=p,i=b):i=p,t=Object(c["a"])(l,{defaultCountry:u,extended:!0},i);else{if("string"!==typeof u)throw new Error("`format` argument not passed to `formatNumber(number, format)`");n=u,p?(o=d,i=p):i=d,t=Object(c["a"])(l,{extended:!0},i)}else{if(!j(l))throw new TypeError("A phone number must either be a string or an object of shape { phone, [country] }.");t=l,n=u,p?(o=d,i=p):i=d}return"International"===n?n="INTERNATIONAL":"National"===n&&(n="NATIONAL"),{input:t,format:n,options:o,metadata:i}}var j=function(e){return"object"===r(e)};function O(){return Object(o["a"])(b,arguments)}},ee85:function(e){e.exports=JSON.parse('{"paused-eligible-for-flex":{"description":"Ditt konto saknar abonnemang och är även pausad av senaste kreditslagningen. Vid beställning görs en ny kreditslagning.","linkText":"Gå till abonnemang","routeName":"products"},"no-active-subscriptions":{"description":"Du behöver ett aktivt avtal för att besvara förfrågningar.","hasMeta":false},"no-active-flex-subscriptions":{"description":"Du måste ha ett abonnemang för att besvara förfrågningar.","hasMeta":false,"linkText":"Starta abonnemang","routeName":"products"},"required-stamps-missed":{"description":"Du behöver en viss kvalitetsstämpel för att besvara detta uppdrag.","hasMeta":true},"not-enough-funds":{"description":"Denna förfrågan ingår inte i ditt avtal, eller så saknas krediter för att besvara den.","hasMeta":false},"not-enough-coins":{"description":"Dina offertamynt räcker inte till att besvara denna förfrågan.","hasMeta":false,"linkText":"Fyll på offertamynt","routeName":"flexsummary"},"supplier-is-enquiry-owner":{"description":"Du kan inte besvara förfrågningar som du själv skapat.","hasMeta":false},"supplier-purchase-prohibited":{"description":"Ditt konto är spärrat från att besvara förfrågningar p.g.a. saknade betalningar.","hasMeta":true},"supplier-paused":{"description":"Du kan inte besvara förfrågningar eftersom ditt konto är pausat.","hasMeta":false},"supplier-email-not-confirmed":{"description":"Du behöver verifiera din e-post innan du kan börja besvara förfrågningar.","hasMeta":false},"company-description-missing":{"description":"Du behöver lägga till en företagsbeskrivning innan du kan besvara förfrågningar.","hasMeta":false,"linkText":"Gå till företagsprofil","routeName":"profile"},"enquiry-has-reclaimed-order":{"description":"Du har reklamerat denna förfrågan.","hasMeta":false},"enquiry-is-purchased":{"description":"Du har besvarat denna förfrågan","hasMeta":false},"enquiry-is-sold-out":{"description":"Denna förfrågan är slutsåld.","hasMeta":false},"enquiry-not-active":{"description":"Denna förfrågan har dragits tillbaka på begäran av kund.","hasMeta":false},"enquiry-is-republished":{"description":"Denna förfrågan har återpublicerats på begäran av kund.","hasMeta":false},"enquiry-is-not-credit-card-eligible":{"description":"Denna förfrågan är endast tillgänglig för kunder med avtal.","hasMeta":false}}')},f44b:function(e,t,n){"use strict";n("b4e2")},f7ea:function(e,t,n){},f9d5:function(e,t,n){"use strict";n.r(t);var o=n("f2bf");const i=e=>(Object(o["pushScopeId"])("data-v-5fd4fbaa"),e=e(),Object(o["popScopeId"])(),e),c={key:0},r=i(()=>Object(o["createElementVNode"])("pre",null,[Object(o["createElementVNode"])("strong",null,"Wooho!"),Object(o["createTextVNode"])(" Detta uppdrag är vunnet och flyttat till "),Object(o["createElementVNode"])("span",{class:"underline"},"Projekt"),Object(o["createTextVNode"])(".")],-1)),a=i(()=>Object(o["createElementVNode"])("pre",null,[Object(o["createTextVNode"])("Detta uppdrag har flyttats till "),Object(o["createElementVNode"])("span",{class:"underline"},"Arkiverade leads"),Object(o["createTextVNode"])(".")],-1)),s=i(()=>Object(o["createElementVNode"])("pre",null,[Object(o["createTextVNode"])("Uppdraget är flyttat till "),Object(o["createElementVNode"])("span",{class:"underline"},"Avslutade"),Object(o["createTextVNode"])(".")],-1)),l=Object(o["createTextVNode"])(" Besvara förfrågan för att använda checklistan. ");function u(e,t,n,i,u,d){var p,b;const m=Object(o["resolveComponent"])("enquiry-step-group"),j=Object(o["resolveComponent"])("svg-icon"),O=Object(o["resolveComponent"])("router-link"),f=Object(o["resolveComponent"])("alert-box"),k=Object(o["resolveComponent"])("enquiry-locked");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[e.enquiry.order&&null!==(p=e.steps.details)&&void 0!==p&&p.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.steps.details,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:e.id,"step-group":e,class:"step-group",onDoneStep:d.onDoneStep,onSkipStep:d.onSkipStep},null,8,["step-group","onDoneStep","onSkipStep"]))),128)),d.isWon?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:0,to:{name:"projects"},class:"media media-center all-done"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{icon:"shimmering-trophy",class:"trophy media-left-small"}),r]),_:1})):Object(o["createCommentVNode"])("",!0),d.isLost?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:1,to:d.archivedName,class:"media media-center all-done"},{default:Object(o["withCtx"])(()=>[a]),_:1},8,["to"])):Object(o["createCommentVNode"])("",!0),d.isProjectCompleted?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:2,to:d.archivedName,class:"media media-center all-done"},{default:Object(o["withCtx"])(()=>[s]),_:1},8,["to"])):Object(o["createCommentVNode"])("",!0)])):!e.enquiry.order||null!==(b=e.steps.details)&&void 0!==b&&b.length?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:2,enquiry:e.enquiry},{default:Object(o["withCtx"])(()=>[l]),_:1},8,["enquiry"])):(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:1,status:"warning"},{text:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",null,"Kunde inte hämta "+Object(o["toDisplayString"])(d.isProject?"projektsteg":"säljsteg"),1)]),_:1}))])}var d=n("5502"),p=n("5ce5"),b=n("9ea2");const m={class:"text-h6"},j={key:0,class:"step-wrapper"};function O(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("enquiry-step-icon"),s=Object(o["resolveComponent"])("svg-icon"),l=Object(o["resolveComponent"])("enquiry-step");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])([{"is-expanded":!e.isCollapsed},"step-group"])},[Object(o["createElementVNode"])("header",{class:"media media-center cursor-pointer",onClick:t[0]||(t[0]=(...e)=>r.toggleCollapsed&&r.toggleCollapsed(...e))},[Object(o["createVNode"])(a,{status:n.stepGroup.status,icon:n.stepGroup.icon,size:"small",class:"step-group-icon"},null,8,["status","icon"]),Object(o["createElementVNode"])("div",m,Object(o["toDisplayString"])(n.stepGroup.title),1),Object(o["createVNode"])(s,{icon:"caret",class:"caret"})]),Object(o["createVNode"])(o["Transition"],{name:"expand"},{default:Object(o["withCtx"])(()=>[e.isCollapsed?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",j,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.stepGroup.actions,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:e.id,step:e,class:"enquiry-step",onDone:r.onDone,onSkip:t[1]||(t[1]=e=>r.onSkip(e))},null,8,["step","onDone"]))),128))]))]),_:1})],2)}const f={key:0};function k(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("enquiry-step-item");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:n.step.id,step:n.step,onDone:r.onDone,onSkip:t[0]||(t[0]=t=>e.$emit("skip",n.step))},null,8,["step","onDone"])),r.showSubSteps?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.step.actions,t=>(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:t.id,step:t,class:"enquiry-sub-step",onDone:r.onDone,onSkip:n=>e.$emit("skip",t)},null,8,["step","onDone","onSkip"]))),128))])):Object(o["createCommentVNode"])("",!0)])}const y={key:0,class:"text-label subtitle next-step-label"},v={class:"media"},h={class:"media-left"},g={class:"media-content"},S={key:0},B={key:0,class:"text-label subtitle"},N={key:2,class:"text-label"},E={key:0},q={key:1};function C(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("enquiry-step-bullet"),s=Object(o["resolveComponent"])("svg-icon"),l=Object(o["resolveComponent"])("enquiry-step-actions");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])({"is-next":r.isNext})},[r.isNext?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",y," Nästa steg: ")):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("div",h,[Object(o["createVNode"])(a,{status:n.step.status},null,8,["status"])]),Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])([{"strike-through":"Skipped"===n.step.status},"step-title"])},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.step.title),1),n.step.linkedValue?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",S,Object(o["toDisplayString"])(e.$filters.friendlyDate(n.step.linkedValue)),1)):Object(o["createCommentVNode"])("",!0)],2),"Skipped"===n.step.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",B," (Skippad) ")):Object(o["createCommentVNode"])("",!0),r.isShowEditButton?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"edit-button button-square-rounded-small button-transparent",onClick:t[0]||(t[0]=(...e)=>r.editStep&&r.editStep(...e))},[Object(o["createVNode"])(s,{icon:"pen",class:"icon"})])):Object(o["createCommentVNode"])("",!0),n.step.value?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",N,["SelectDate"===n.step.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",E,Object(o["toDisplayString"])(e.$filters.friendlyDate(n.step.value)),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",q,Object(o["toDisplayString"])(n.step.value),1))])):Object(o["createCommentVNode"])("",!0),r.isShowActions?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:3,"is-next":r.isNext,type:n.step.type,"action-link":n.step.actionLink,"action-link-title":n.step.actionLinkTitle,options:n.step.options,class:"actions",onDone:r.onDone,onSkip:r.onSkip},null,8,["is-next","type","action-link","action-link-title","options","onDone","onSkip"])):Object(o["createCommentVNode"])("",!0)])])],2)}const V={key:0,class:"button-group"},w={key:1,class:"button-group"},x=["onClick"],D={key:2};function _(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("v-date-picker");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])({"is-next":n.isNext})},["SelectSimple"===n.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",V,[Object(o["createElementVNode"])("button",{class:Object(o["normalizeClass"])([`${r.buttonSizeClass} ${r.buttonTypeClass}`,"button"]),onClick:t[0]||(t[0]=t=>e.markStepDone())},Object(o["toDisplayString"])(r.stepActionText),3),Object(o["createElementVNode"])("button",{class:Object(o["normalizeClass"])([r.buttonSizeClass,"button-primary-outline"]),onClick:t[1]||(t[1]=(...t)=>e.skipStep&&e.skipStep(...t))}," Hoppa över ",2)])):"SelectOption"===n.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",w,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.options,(t,n)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:n,class:Object(o["normalizeClass"])([r.buttonSizeClass,"button button-primary-outline"]),onClick:n=>e.markStepDone(t)},Object(o["toDisplayString"])(t),11,x))),128))])):"SelectDate"===n.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",D,[Object(o["createVNode"])(a,{modelValue:e.selectedDate,"onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedDate=t),"disabled-dates":c.disabledDates,format:"yyyy-MM-dd","monday-first":"","input-class":"input-date-input","calendar-class":"datepicker-calendar",class:"actiondatepicker",onSelected:e.onDateSelected,onClick:e.openDatepicker},{afterDateInput:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("button",{class:Object(o["normalizeClass"])([`${r.buttonSizeClass} ${r.buttonTypeClass}`,"input-date-button"])}," Välj datum ",2)]),_:1},8,["modelValue","disabled-dates","onSelected","onClick"])])):Object(o["createCommentVNode"])("",!0)],2)}n("3c78");var I={emits:["done","skip"],data:()=>({selectedDate:null}),methods:{markStepDone(e){this.actionLink?this.resolveActionLink():this.$emit("done",e)},skipStep(){this.$emit("skip")},resolveActionLink(){"send_profile"===this.actionLink?this.$router.push("messages"):"send_quote"===this.actionLink&&this.$router.push("quotes")},openDatepicker(e){e.stopPropagation()},onDateSelected(e){this.selectedDate=e,this.$emit("done",e)}}};const T=new Date,$=new Date(T.getFullYear(),T.getMonth(),T.getDate());var L={mixins:[I],props:{isNext:{type:Boolean,default:!1},type:{type:String,required:!0},options:{type:Array,default:()=>[]},actionLink:{type:String,default:""},actionLinkTitle:{type:String,default:""}},data(){return{disabledDates:{to:$}}},computed:{buttonTypeClass(){return this.isNext?"button-secondary":"button-primary-outline"},buttonSizeClass(){return this.isNext?"button-small":"button-tiny"},stepActionText(){return this.actionLinkTitle||"Klart"}}},A=(n("3ecb2"),n("77b4"),n("7f94")),M=n.n(A);const z=M()(L,[["render",_],["__scopeId","data-v-55cd6a3d"]]);var F=z;function P(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("svg-icon");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])([r.className,"step-bullet"])},[Object(o["createVNode"])(a,{icon:"checkmark",class:"icon done-icon"})],2)}var R={props:{status:{type:String,default:""}},computed:{className(){return"Skipped"===this.status?"skipped":"NotStarted"===this.status?"not-started":"InProgress"===this.status?"in-progress":"Done"===this.status||"SystemDone"===this.status?"done":""}}};n("d34d");const U=M()(R,[["render",P],["__scopeId","data-v-3a136680"]]);var K=U,G={emits:["done","skip"],components:{EnquiryStepActions:F,EnquiryStepBullet:K},props:{step:{type:Object,required:!0}},data:()=>({isEditStep:!1,showSubQuestions:!1}),computed:{isShowEditButton(){return("Done"===this.step.status||"Skipped"===this.step.status)&&!this.isEditStep},isShowActions(){return!!this.isEditStep||"SystemDone"!==this.step.status&&"Done"!==this.step.status&&"Skipped"!==this.step.status},isNext(){return"InProgress"===this.step.status}},methods:{editStep(){this.isEditStep=!0},onDone(e){var t;null!==(t=this.step.actions)&&void 0!==t&&t.length&&"ja"===e.toLowerCase()?this.showSubQuestions=!0:this.showSubQuestions=!1,this.$emit("done",{step:this.step,value:e}),this.isEditStep=!1},onSkip(){this.$emit("skip"),this.isEditStep=!1}}};n("46ae");const Z=M()(G,[["render",C],["__scopeId","data-v-c65c129c"]]);var Y=Z,H={emits:["done","skip"],components:{EnquiryStepItem:Y},props:{step:{type:Object,required:!0}},computed:{showSubSteps(){return this.step.actions&&this.step.actions.length&&"Ja"===this.step.value}},methods:{onDone(e){this.$emit("done",e)}}};n("4c83");const Q=M()(H,[["render",k],["__scopeId","data-v-4c0e45ec"]]);var J=Q;function W(e,t,n,i,c,r){const a=Object(o["resolveComponent"])("svg-icon");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])([r.statusClass,"sales-progress-item"])},[Object(o["createVNode"])(a,{icon:n.icon,size:n.size,class:"progress-icon"},null,8,["icon","size"])],2)}var X={props:{status:{type:String,default:""},icon:{type:String,required:!0},size:{type:String,default:"mini"}},computed:{statusClass(){return"Done"===this.status?"done":"InProgress"===this.status?"in-progress":""}}};n("ed60");const ee=M()(X,[["render",W],["__scopeId","data-v-01dd5889"]]);var te=ee,ne={emits:["done-step","skip-step"],components:{EnquiryStep:J,EnquiryStepIcon:te},props:{stepGroup:{type:Object,required:!0}},data:()=>({isCollapsed:!0}),created(){this.checkCollapsedByStatus()},beforeUpdate(){this.checkCollapsedByStatus()},methods:{toggleCollapsed(){this.isCollapsed=!this.isCollapsed},checkCollapsedByStatus(){"InProgress"===this.stepGroup.status&&(this.isCollapsed=!1)},onDone(e){this.$emit("done-step",e)},onSkip(e){this.$emit("skip-step",e)}}};n("51a8");const oe=M()(ne,[["render",O],["__scopeId","data-v-0d67218e"]]);var ie=oe,ce=n("7a19"),re={components:{EnquiryLocked:b["a"],EnquiryStepGroup:ie,AlertBox:ce["a"]},data:()=>({steps:{overview:{achievedStatus:null,overview:null}}}),computed:{...Object(d["c"])("enquiry",["enquiry"]),...Object(d["c"])(["currentListRoute"]),archivedName(){return{name:this.$route.meta.parent,params:{filter:"archived"}}},isProject(){return this.$route.path.includes("projectsteps")},isWon(){var e;return this.$route.path.includes("sales")&&"Vunnet uppdrag"===(null===(e=this.steps.overview)||void 0===e?void 0:e.achievedStatus)},isLost(){var e;return this.$route.path.includes("sales")&&"Avslutad"===(null===(e=this.steps.overview)||void 0===e?void 0:e.achievedStatus)},isProjectCompleted(){var e,t;return this.isProject&&"Done"===(null===(e=this.steps)||void 0===e||null===(t=e.overview)||void 0===t?void 0:t.overview[2].status)}},async beforeRouteEnter(e,t,n){try{let t={};const{enquiryId:o}=e.params;t=e.name.includes("projectsteps")?await p["b"].projectSteps(o):await p["b"].salesSteps(o),n(e=>e.setData(t))}catch(o){n(!0)}},created(){this.$store.commit("showBackButton",this.currentListRoute)},methods:{...Object(d["b"])("enquiry",["setEnquiryStepOverview"]),setData(e){this.steps=e},async onDoneStep(e){const t=this.enquiry.order.id;try{const{step:n,value:o}=e,{humanId:i,id:c}=n,r=await p["b"].progress("Execute",t,i,c,o);this.setData(r),this.setEnquiryStepOverview({overview:r.overview,type:this.$route.meta.parent})}catch(n){this.$notification.error("Något gick fel, försök igen")}},async onSkipStep(e){const t=this.enquiry.order.id;try{const{humanId:n,id:o}=e,i=await p["b"].progress("Skip",t,n,o);this.setData(i),this.setEnquiryStepOverview({overview:i.overview,type:this.$route.meta.parent})}catch(n){this.$notification.error("Något gick fel, försök igen")}}}};n("d942");const ae=M()(re,[["render",u],["__scopeId","data-v-5fd4fbaa"]]);t["default"]=ae},fa57:function(e,t,n){"use strict";var o=n("f2bf");const i={class:"page-sidebar-layout"},c={class:"page-sidebar-layout__top"},r={class:"page-sidebar-layout__content"},a={class:"page-sidebar-layout__sidebar"};function s(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,[Object(o["createElementVNode"])("div",c,[Object(o["renderSlot"])(e.$slots,"top")]),Object(o["createElementVNode"])("div",r,[Object(o["renderSlot"])(e.$slots,"content")]),Object(o["createElementVNode"])("aside",a,[Object(o["renderSlot"])(e.$slots,"sidebar")])])}n("c4d9");var l=n("7f94"),u=n.n(l);const d={},p=u()(d,[["render",s]]);t["a"]=p},fb20:function(e,t,n){},fbe7:function(e,t,n){}}]);
//# sourceMappingURL=enquiry.f77bc101.js.map