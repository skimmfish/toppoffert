(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5102be6d"],{"0638":function(e,t,n){"use strict";var a=n("f2bf");const o={key:0,class:"tabs-component-panels"};function r(e,t,n,r,i,l){const c=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])([{vertical:n.vertical},"tabs-component router-tabs"])},[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])([[{"show-divider":n.divider},{"no-dropdown":n.noDropdown},{"no-margin":n.noMargin},{underlined:n.underLined},l.marginClass],"tabs-component-tabs"]),role:"tablist"},[Object(a["renderSlot"])(e.$slots,"default"),Object(a["renderSlot"])(e.$slots,"side-menu")],2),n.routerView?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])(({Component:e})=>[n.keepAlive?(Object(a["openBlock"])(),Object(a["createBlock"])(a["KeepAlive"],{key:0},[(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(e)))],1024)):(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(e),{key:1}))]),_:1})])):Object(a["createCommentVNode"])("",!0)],2)}var i={props:{vertical:{type:Boolean,default:!1},underLined:{type:Boolean,default:!0},divider:{type:Boolean,default:!1},keepAlive:{type:Boolean,default:!1},noDropdown:{type:Boolean,default:!1},noMargin:{type:Boolean,default:!1},routerView:{type:Boolean,default:!0},marginSize:{type:String,validator:()=>["small","medium","none","default"],default:"default"}},computed:{marginClass(){return this.marginSize?"margin-"+this.marginSize:"margin-default"}}},l=(n("b9e7"),n("7f94")),c=n.n(l);const s=c()(i,[["render",r]]);t["a"]=s},"0c78":function(e,t,n){},1991:function(e,t,n){},"1d61":function(e,t,n){"use strict";n("b714d")},"2c10":function(e,t,n){"use strict";var a=n("f2bf");const o={key:"spinner",class:"spinner-container"};function r(e,t,n,r,i,l){const c=Object(a["resolveComponent"])("spinner");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Transition"],{name:"pageloader",mode:"out-in"},{default:Object(a["withCtx"])(()=>[n.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createVNode"])(c,{center:""})])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:"content",class:Object(a["normalizeClass"])([{"content-container--flex":n.flex},"content-container"])},[Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0)],2))]),_:3})}var i=n("2165"),l={components:{Spinner:i["a"]},props:{loading:{type:Boolean,default:!1,required:!1},flex:{type:Boolean,default:!1}}},c=(n("1d61"),n("7f94")),s=n.n(c);const d=s()(l,[["render",r],["__scopeId","data-v-5ca2dfe4"]]);t["a"]=d},"415a":function(e,t,n){},4959:function(e,t,n){},"4b94":function(e,t,n){},6366:function(e,t,n){"use strict";n("f9de")},"6b21":function(e,t,n){"use strict";n("9cfc")},"6f13":function(e,t,n){"use strict";n.r(t);var a=n("f2bf");const o={key:0,class:"enquiry-view"},r={class:"enquiry-grid"},i={class:"enquiry-overview"},l={class:"enquiry-tabs"},c=Object(a["createTextVNode"])(" Förfrågan "),s=Object(a["createTextVNode"])(" Meddelanden "),d=Object(a["createTextVNode"])(" Offert "),u=Object(a["createTextVNode"])(" Checklista ");function m(e,t,n,m,b,p){const f=Object(a["resolveComponent"])("enquiry-header"),g=Object(a["resolveComponent"])("router-link"),O=Object(a["resolveComponent"])("svg-icon"),j=Object(a["resolveComponent"])("router-tabs"),h=Object(a["resolveComponent"])("request-rating-modal"),v=Object(a["resolveComponent"])("flex-reclaim-modal"),k=Object(a["resolveComponent"])("reclaim-modal"),y=Object(a["resolveComponent"])("notes-modal"),N=Object(a["resolveComponent"])("boost-modal"),C=Object(a["resolveComponent"])("page-loading");return Object(a["openBlock"])(),Object(a["createBlock"])(C,{loading:b.isLoading},{default:Object(a["withCtx"])(()=>[e.enquiry?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",i,[Object(a["createVNode"])(f,{enquiry:e.enquiry,class:"enquiry-header"},null,8,["enquiry"]),Object(a["createElementVNode"])("div",l,[Object(a["createVNode"])(j,{divider:"","keep-alive":""},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{to:{name:e.$route.meta.parent+".enquiry"},replace:""},{default:Object(a["withCtx"])(()=>[c]),_:1},8,["to"]),Object(a["createVNode"])(g,{to:{name:e.$route.meta.parent+".enquiry.messages"},replace:"",class:Object(a["normalizeClass"])(["messaging-tab",{locked:!p.enquiryOrder}])},{default:Object(a["withCtx"])(()=>[p.enquiryOrder?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:0,class:"enquiry-tabs__tab-icon",icon:"lock-fill",size:"mini"})),s]),_:1},8,["to","class"]),Object(a["createVNode"])(g,{to:{name:e.$route.meta.parent+".enquiry.quotes"},replace:"",class:Object(a["normalizeClass"])({locked:!p.enquiryOrder})},{default:Object(a["withCtx"])(()=>[p.enquiryOrder?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:0,class:"enquiry-tabs__tab-icon",icon:"lock-fill",size:"mini"})),d]),_:1},8,["to","class"]),p.hideChecklist?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(g,{key:0,to:{name:`${e.$route.meta.parent}.enquiry.${p.isProject?"projectsteps":"salessteps"}`},replace:"",class:Object(a["normalizeClass"])({locked:!p.enquiryOrder})},{default:Object(a["withCtx"])(()=>[p.enquiryOrder?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(O,{key:0,class:"enquiry-tabs__tab-icon",icon:"lock-fill",size:"mini"})),u]),_:1},8,["to","class"]))]),_:1})]),e.showRequestRatingDialog&&p.enquiryOrder?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:0,"order-id":p.enquiryOrder.id,"buyer-first-name":e.enquiry.buyer.firstName,rating:p.enquiryOrder.rating,"send-date":p.enquiryOrder.ratingRequestSentAt,onClose:e.toggleRequestRatingDialog},null,8,["order-id","buyer-first-name","rating","send-date","onClose"])):Object(a["createCommentVNode"])("",!0),e.isEligibleForFlex&&e.showReclaimDialog?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:1,onClose:e.toggleReclaimDialog},null,8,["onClose"])):!e.isEligibleForFlex&&e.showReclaimDialog?(Object(a["openBlock"])(),Object(a["createBlock"])(k,{key:2,"enquiry-id":e.enquiry.id,onClose:e.toggleReclaimDialog,onRequestSent:p.refreshEnquiry},null,8,["enquiry-id","onClose","onRequestSent"])):Object(a["createCommentVNode"])("",!0),e.showNotesDialog&&p.enquiryOrder?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:3,"order-id":p.enquiryOrder.id,note:p.enquiryOrder.note,onClose:e.toggleNotesDialog},null,8,["order-id","note","onClose"])):Object(a["createCommentVNode"])("",!0),e.showBoostDialog&&p.enquiryOrder?(Object(a["openBlock"])(),Object(a["createBlock"])(N,{key:4,"order-id":p.enquiryOrder.id,onClose:e.toggleBoostDialog},null,8,["order-id","onClose"])):Object(a["createCommentVNode"])("",!0)])])])):Object(a["createCommentVNode"])("",!0)]),_:1},8,["loading"])}var b=n("5502"),p=n("b226"),f=n("0638"),g=n("a804");const O=e=>(Object(a["pushScopeId"])("data-v-74ce8ceb"),e=e(),Object(a["popScopeId"])(),e),j={key:0,class:"reply"},h=O(()=>Object(a["createElementVNode"])("br",null,null,-1)),v=O(()=>Object(a["createElementVNode"])("hr",{class:"divider-short"},null,-1)),k=O(()=>Object(a["createElementVNode"])("b",null,"Ert svar:",-1)),y=O(()=>Object(a["createElementVNode"])("br",null,null,-1)),N=O(()=>Object(a["createElementVNode"])("label",null,"Meddelande",-1)),C=["maxlength"],q={class:"character-limit"},V=O(()=>Object(a["createElementVNode"])("div",null,"Avbryt",-1)),E=Object(a["createTextVNode"])(" Skicka");function S(e,t,n,o,r,i){const l=Object(a["resolveComponent"])("rating-stars"),c=Object(a["resolveComponent"])("form-group"),s=Object(a["resolveComponent"])("loading-button"),d=Object(a["resolveComponent"])("modal");return Object(a["openBlock"])(),Object(a["createBlock"])(d,{onCancel:i.closeModal},{header:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(i.title),1)]),body:Object(a["withCtx"])(()=>{var o;return[Object(a["createElementVNode"])("div",null,[n.rating?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",j,[Object(a["createElementVNode"])("p",null,[Object(a["createElementVNode"])("b",null,Object(a["toDisplayString"])(n.buyerFirstName),1),h,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.$filters.date(n.rating.buyerCommentedAt)),1)]),null!==(o=n.rating)&&void 0!==o&&o.grade?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:0,"rating-value":n.rating.grade,class:"rating-stars"},null,8,["rating-value"])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(n.rating.buyerComment),1),n.rating.supplierCommentedAt?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[v,Object(a["createElementVNode"])("p",null,[k,y,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.$filters.date(n.rating.supplierCommentedAt)),1)]),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(n.rating.supplierComment),1)],64)):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0),!n.rating||n.rating&&!n.rating.supplierCommentedAt?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(i.description),1),Object(a["createVNode"])(c,null,{label:Object(a["withCtx"])(()=>[N]),input:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.message=t),maxlength:e.messageMaxLength},null,8,C),[[a["vModelText"],e.message]])]),helptext:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",q,Object(a["toDisplayString"])(i.characterLimit),1)]),_:1})],64)):Object(a["createCommentVNode"])("",!0)])]}),cancel:Object(a["withCtx"])(()=>[V]),"confirm-button":Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{"is-loading":e.isSending,class:Object(a["normalizeClass"])(["button-rounded button-secondary",{disabled:n.rating&&!!n.rating.supplierCommentedAt}]),"loading-text":"Skickar...",onClick:i.send},{default:Object(a["withCtx"])(()=>[E]),_:1},8,["is-loading","class","onClick"])]),_:1},8,["onCancel"])}var w=n("0986"),B=n("3c0b"),x=n("e85d"),D=n("0334"),$=n("5ce5"),I={emits:["close"],components:{RatingStars:D["a"],FormGroup:w["a"],LoadingButton:B["a"],Modal:x["a"]},props:{orderId:{type:String,required:!0},buyerFirstName:{type:String,default:""},rating:{type:Object,default:()=>{}},sendDate:{type:String,default:""}},data:()=>({message:"",messageMaxLength:2e3,isSending:!1}),computed:{title(){return this.rating?"Svara på omdöme":"Fråga efter omdöme"},description(){return this.rating?`Svara på omdömet från ${this.buyerFirstName}, det är trevligt att få svar och ser bra ut på din företagsprofil!`:`Skicka ett personligt meddelande till ${this.buyerFirstName} för att be om ett omdöme.`},characterLimit(){return this.messageMaxLength-this.message.length}},methods:{...Object(b["b"])("enquiry",["requestRating"]),closeModal(){this.$emit("close")},async send(){try{this.isSending=!0,this.rating?(await $["h"].replyRating(this.rating.id,this.message),this.$notification.success(`Ditt svar har skickats till ${this.buyerFirstName}.`)):(await this.requestRating({orderId:this.orderId,message:this.message}),this.$notification.success("Omdöme efterfrågat"))}catch(e){this.$notification.error("Något gick fel, försök igen")}finally{this.closeModal(),this.isSending=!1}}}},_=(n("c80c"),n("7f94")),M=n.n(_);const L=M()(I,[["render",S],["__scopeId","data-v-74ce8ceb"]]);var F=L;const R=Object(a["createElementVNode"])("div",null,"Reklamera förfrågan",-1),T=Object(a["createElementVNode"])("p",null," Du som företag kan reklamera en förfrågan om du anser att den inte är korrekt. Vi godkänner en reklamation som uppfyller en eller flera av följande punkter: ",-1),A=Object(a["createElementVNode"])("ul",{class:"list"},[Object(a["createElementVNode"])("li",null," Informationen i förfrågan är vilseledande och stämmer inte överens med kundens behov. "),Object(a["createElementVNode"])("li",null," Kunden har redan påbörjat eller fått arbetet utfört innan företagets första kontakt. "),Object(a["createElementVNode"])("li",null," Om hushållet lagt in flera förfrågningar för samma sorts arbete måste företaget ange ID nummer för båda förfrågningarna i beskrivningsfältet för giltig reklamation. "),Object(a["createElementVNode"])("li",null," Kund äger inte fastigheten själv och är endast intresserad av prisförslag om detta inte framgår i förfrågan. ")],-1),z=Object(a["createElementVNode"])("p",null," Vi kan aldrig garantera att kunden svarar på mail eller telefon eftersom vi är en marknadsplats och endast förmedlar uppgifter mellan köpare och säljare. ",-1),P=Object(a["createElementVNode"])("p",null," Fyll i formuläret nedan och ange varför du önskar reklamera förfrågan. Du kan endast reklamera en förfrågan åt gången. Vi behöver samtliga uppgifter för att kunna göra en bedömning och ersätta dig med ett likvärdigt uppdrag. Du blir kontaktad via e-post när vi sett över ditt ärende. ",-1),K=Object(a["createElementVNode"])("label",null,"Varför önskar du reklamera förfrågan?",-1),G=Object(a["createElementVNode"])("div",null,"Avbryt",-1),H=Object(a["createTextVNode"])(" Skicka ");function U(e,t,n,o,r,i){const l=Object(a["resolveComponent"])("form-group"),c=Object(a["resolveComponent"])("loading-button"),s=Object(a["resolveComponent"])("modal");return Object(a["openBlock"])(),Object(a["createBlock"])(s,{onCancel:i.closeModal},{header:Object(a["withCtx"])(()=>[R]),body:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[T,A,z,P,Object(a["createVNode"])(l,null,{label:Object(a["withCtx"])(()=>[K]),input:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.message=t)},null,512),[[a["vModelText"],e.message]])]),helptext:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])([{"text-error":i.characterLimit<0},"character-limit"])},Object(a["toDisplayString"])(i.characterLimit),3)]),_:1})])]),cancel:Object(a["withCtx"])(()=>[G]),"confirm-button":Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{ref:"sendbutton","is-loading":e.isSending,class:Object(a["normalizeClass"])(["button button-rounded",{disabled:!i.canSend}]),"loading-text":"Skickar...",onClick:i.send},{default:Object(a["withCtx"])(()=>[H]),_:1},8,["is-loading","class","onClick"])]),_:1},8,["onCancel"])}var J={emits:["close","request-sent"],components:{FormGroup:w["a"],LoadingButton:B["a"],Modal:x["a"]},props:{enquiryId:{type:String,required:!0}},data:()=>({message:"",isSending:!1}),computed:{characterLimit(){return 2e3-this.message.length},canSend(){return this.characterLimit>0&&this.message}},methods:{closeModal(){this.$emit("close")},async send(){try{this.isSending=!0,await $["b"].reclaim(this.enquiryId,this.message),this.$notification.success("Reklamation skickad!"),this.$emit("request-sent"),this.closeModal()}catch(e){this.$refs.sendbutton.showError("Något gick fel, försök igen")}finally{this.isSending=!1}}}};const Q=M()(J,[["render",U]]);var W=Q,X=n("dd4f"),Y=n.n(X);const Z=e=>(Object(a["pushScopeId"])("data-v-01a242d7"),e=e(),Object(a["popScopeId"])(),e),ee={class:"body-container"},te={class:"media media-column media-center hide-in-desktop"},ne=Z(()=>Object(a["createElementVNode"])("div",null,"Regler för reklamation",-1)),ae=Z(()=>Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("p",null," En reklamation måste uppfylla en eller flera av följande punkter: "),Object(a["createElementVNode"])("ul",{class:"list"},[Object(a["createElementVNode"])("li",null," Informationen i förfrågan är vilseledande och stämmer inte överens med kundens behov. "),Object(a["createElementVNode"])("li",null," Kunden har redan påbörjat eller fått arbetet utfört innan företagets första kontakt. "),Object(a["createElementVNode"])("li",null," Om hushållet lagt in flera förfrågningar för samma sorts arbete måste företaget ange ID nummer för båda förfrågningarna i beskrivningsfältet för giltig reklamation. "),Object(a["createElementVNode"])("li",null," Kund äger inte fastigheten själv och är endast intresserad av prisförslag om detta inte framgår i förfrågan. ")]),Object(a["createElementVNode"])("p",null," Vi kan aldrig garantera att kunden svarar på mail eller telefon eftersom vi är en marknadsplats och endast förmedlar uppgifter mellan köpare och säljare. "),Object(a["createElementVNode"])("p",{class:"strong"}," Mejla oss för att reklamera ett uppdrag. Skriv förfrågans ID (5 siffror, finns i mejl med kunduppgifter) och vilken av ovan anledningar som gäller för din reklamation. "),Object(a["createElementVNode"])("a",{class:"block email-text",href:"mailto:info@offerta.se"}," info@offerta.se ")],-1));function oe(e,t,n,o,r,i){const l=Object(a["resolveComponent"])("svg-icon"),c=Object(a["resolveComponent"])("modal");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{"close-button":"","disable-footer":"",onCancel:t[0]||(t[0]=t=>e.$emit("close"))},{header:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",ee,[Object(a["createElementVNode"])("div",te,[Object(a["createVNode"])(l,{icon:"items/letter-email",size:"large",fill:"transparent",class:"block-small block-first icon-style"})]),ne])]),body:Object(a["withCtx"])(()=>[ae]),_:1})}var re={emits:["close"],components:{Modal:x["a"]}};n("f50d");const ie=M()(re,[["render",oe],["__scopeId","data-v-01a242d7"]]);var le=ie;const ce=Object(a["createElementVNode"])("div",{class:"text-h5"},"Anteckningar",-1),se=Object(a["createElementVNode"])("label",null," Noteringar om förfrågan ",-1),de=["maxlength"],ue={class:"character-limit"},me=Object(a["createElementVNode"])("div",null,"Avbryt",-1),be=Object(a["createTextVNode"])(" Spara ");function pe(e,t,n,o,r,i){const l=Object(a["resolveComponent"])("form-group"),c=Object(a["resolveComponent"])("loading-button"),s=Object(a["resolveComponent"])("modal");return Object(a["openBlock"])(),Object(a["createBlock"])(s,{onCancel:i.closeModal},{header:Object(a["withCtx"])(()=>[ce]),body:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(l,null,{label:Object(a["withCtx"])(()=>[se]),input:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.message=t),maxlength:e.messageMaxLength},null,8,de),[[a["vModelText"],e.message]])]),helptext:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",ue,Object(a["toDisplayString"])(i.characterLimit),1)]),_:1})])]),cancel:Object(a["withCtx"])(()=>[me]),"confirm-button":Object(a["withCtx"])(()=>[Object(a["createVNode"])(c,{ref:"sendButton","is-loading":e.isLoading,class:"button button-rounded","loading-text":"Skickar...",onClick:i.saveNote},{default:Object(a["withCtx"])(()=>[be]),_:1},8,["is-loading","onClick"])]),_:1},8,["onCancel"])}var fe={emits:["close"],components:{FormGroup:w["a"],Modal:x["a"],LoadingButton:B["a"]},props:{orderId:{type:String,default:""},note:{type:String,default:""}},data:()=>({message:"",isLoading:!1,messageMaxLength:2e3}),computed:{characterLimit(){return this.messageMaxLength-this.message.length}},watch:{note:{handler(e){this.message=e||""},immediate:!0}},methods:{...Object(b["b"])("enquiry",["noteEnquiry"]),closeModal(){this.$emit("close")},async saveNote(){this.isLoading=!0;try{await this.noteEnquiry({orderId:this.orderId,note:this.message}),this.$notification.success("Anteckningar sparade!")}catch(e){this.$notification.error("Något gick fel, försök igen")}finally{this.isLoading=!1,this.$emit("close")}}}};const ge=M()(fe,[["render",pe]]);var Oe=ge;const je=e=>(Object(a["pushScopeId"])("data-v-226a1339"),e=e(),Object(a["popScopeId"])(),e),he={class:"text-h5 boost__header"},ve=Object(a["createTextVNode"])(" Boosta förfrågan "),ke={class:"boost"},ye=je(()=>Object(a["createElementVNode"])("h6",null,"Vad innebär det att boosta en förfrågan?",-1)),Ne=je(()=>Object(a["createElementVNode"])("span",null,"Vill du veta mer?",-1)),Ce=je(()=>Object(a["createElementVNode"])("a",{class:"boost__link",href:"https://offerta.se/affarspaket/booster/"},"Se exempel och läs mer här!",-1)),qe=je(()=>Object(a["createElementVNode"])("hr",{class:"boost__divider"},null,-1)),Ve=je(()=>Object(a["createElementVNode"])("span",{class:"boost__textarea-label"},"Kampanjmeddelande (frivilligt)",-1)),Ee={class:"boost__textarea-left"},Se=["maxlength"],we=Object(a["createTextVNode"])(" BOOSTA! ");function Be(e,t,n,o,r,i){const l=Object(a["resolveComponent"])("svg-icon"),c=Object(a["resolveComponent"])("bullet-list"),s=Object(a["resolveComponent"])("loading-button"),d=Object(a["resolveComponent"])("modal");return Object(a["openBlock"])(),Object(a["createBlock"])(d,{onCancel:i.closeModal},{header:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",he,[Object(a["createVNode"])(l,{icon:"lightning",class:"boost__header-icon"}),ve])]),body:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",ke,[ye,Object(a["createVNode"])(c,{items:e.bulletItems},null,8,["items"]),Ne,Ce,qe,Object(a["createElementVNode"])("label",null,[Ve,Object(a["createElementVNode"])("span",Ee,Object(a["toDisplayString"])(i.teatAreaCharLeft),1),Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.textAreaModel=t),maxlength:e.textAreaMaxLength,class:"boost__textarea",placeholder:"Ex. Just nu 10% rabatt på alla tjänster!"},null,8,Se),[[a["vModelText"],e.textAreaModel]])])])]),"confirm-button":Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{ref:"sendButton","is-loading":e.isLoading,class:"button button-rounded button-secondary","loading-text":"",onClick:i.submit},{default:Object(a["withCtx"])(()=>[we]),_:1},8,["is-loading","onClick"])]),_:1},8,["onCancel"])}const xe={class:"list"};function De(e,t,n,o,r,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("ul",xe,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.items,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:e,class:"list__item"},Object(a["toDisplayString"])(e),1))),128))])}var $e={props:{items:{type:Array,default:()=>[]}}};n("71f6");const Ie=M()($e,[["render",De],["__scopeId","data-v-18609f82"]]);var _e=Ie,Me={emits:["close"],components:{BulletList:_e,Modal:x["a"],LoadingButton:B["a"]},props:{orderId:{type:String,default:""}},data:()=>({bulletItems:["Visa att ni är extra intresserade","Prioriterad visning högst upp","Mega-profil. Dubbelt så stort","Personligt kampanjbudskap"],textAreaMaxLength:40,textAreaModel:"",isLoading:!1}),computed:{teatAreaCharLeft(){return this.textAreaMaxLength-this.textAreaModel.length+" tecken kvar"}},methods:{...Object(b["b"])("enquiry",["boostEnquiry"]),closeModal(){this.$emit("close")},async submit(){this.isLoading=!0;const e=await this.boostEnquiry({orderId:this.orderId,textAreaModel:this.textAreaModel});e.wasActivated?this.$notification.success("Förfrågan har boostats!"):this.$notification.error("Något gick fel, försök igen"),this.isLoading=!1,this.$emit("close")}}};n("6366");const Le=M()(Me,[["render",Be],["__scopeId","data-v-226a1339"]]);var Fe=Le,Re=n("2c10"),Te=n("dff3"),Ae=n.n(Te),ze={components:{RouterTabs:f["a"],RequestRatingModal:F,ReclaimModal:W,FlexReclaimModal:le,NotesModal:Oe,BoostModal:Fe,PageLoading:Re["a"],EnquiryHeader:g["a"]},data(){return{currentEnquiryId:null,recommendationAnchor:"#recommendations",isLoading:!1}},apollo:{similarEnquiries(){return{query:Ae.a,variables(){return{enquiryId:this.$route.params.enquiryId}},update({enquiry:e}){return e?(this.setRecommendedEnquiries(e.similar||[]),e.similar):[]},skip(){var e;if(null===(e=this.$route.params)||void 0===e||!e.enquiryId)return!0;const t=window.location.origin;return t.includes("localhost")||t.includes("staging")?(console.log("[Apollo query] similarEnquiries disabled in development mode"),!0):!this.isShowRecommendations},fetchPolicy:"network-only"}},orderCount(){return{query:Y.a,variables(){return{enquiryId:this.$route.params.enquiryId}},result:e=>{var t,n,a;const o=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.enquiry)||void 0===n?void 0:n.orderCount;o!==(null===(a=this.enquiry)||void 0===a?void 0:a.orderCount)&&this.updateEnquiry({...this.enquiry,orderCount:o})},skip(){var e,t;return!this.enquiry||!(null!==(e=this.$route.params)&&void 0!==e&&e.enquiryId)||!(null!==(t=this.$route.path)&&void 0!==t&&t.includes("/marketplace/"))},error:e=>{console.error("[Signing] Error Polling Status",e)},manual:!0,pollInterval:2e3,fetchPolicy:"network-only"}}},computed:{...Object(b["c"])("enquiry",["enquiry"]),...Object(b["c"])("dialog",["showRequestRatingDialog","showReclaimDialog","showNotesDialog","showBoostDialog"]),...Object(b["c"])("payment",["showPaymentDialog"]),...Object(b["c"])(["isShowRecommendations","isEligibleForFlex"]),hideChecklist(){var e;return null===(e=this.$featureToggleClient)||void 0===e?void 0:e.isEnabled("enquiry-checklist")},enquiryOrder(){var e;return null===(e=this.enquiry)||void 0===e?void 0:e.order},isProject(){var e,t;return null===(e=this.enquiryOrder)||void 0===e||null===(t=e.progress)||void 0===t?void 0:t.projectOverview}},watch:{"$route.params.enquiryId":{async handler(){var e;null!==(e=this.$route.params)&&void 0!==e&&e.enquiryId&&(this.isLoading?this.$nextTick(()=>{this.loadEnquiry()}):this.loadEnquiry())},immediate:!0}},methods:{...Object(b["d"])("dialog",["toggleRequestRatingDialog","toggleReclaimDialog","toggleNotesDialog","toggleBoostDialog"]),...Object(b["d"])("payment",["togglePaymentDialog"]),...Object(b["d"])("enquiry",["setRecommendedEnquiries"]),...Object(b["b"])("enquiry",["getEnquiry","recommendations","setEnquiryOpened"]),...Object(b["d"])("marketplace",["updateEnquiry"]),async loadEnquiry(){var e,t;const n=null===(e=this.$route)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.enquiryId;if(n){this.isLoading=!0;try{this.setRecommendedEnquiries([]);const e=await this.getEnquiry(n);this.trackEnquiryOpened(e)}catch(a){console.error(a),this.$notification.error("Kunde inte hämta förfrågan"),this.$router.replace({name:this.$route.meta.parent})}this.isLoading=!1}},async refreshEnquiry(){var e;const t=null===(e=this.$route.params)||void 0===e?void 0:e.enquiryId;if(t)try{await this.getEnquiry(t)}catch(n){this.$notification.error("Kunde inte uppdatera förfrågan"),this.$router.replace({name:this.$route.meta.parent})}},trackEnquiryOpened(e){var t,n;if(!e)return;const a=e.orderCount===e.marketplaceSlots,o=null===(t=e.purchase)||void 0===t||null===(n=t.descriptions)||void 0===n?void 0:n.some(e=>"not-enough-funds"===e.descriptionKey),r={enquiryId:this.$route.params.enquiryId,enquiryWorkTypeId:e.what.externalId,enquiryWorkType:e.what.name,enquiryPurchasedBySupplier:e.hasPurchased,enquirySoldOut:a,supplierOutOfCredits:o};this.$track({event_category:"enquiries",event_action:"enquiryOpened",event_name:this.$route.params.enquiryId}),p["d"]("enquiry-opened",r),this.setEnquiryOpened()}}};n("749a");const Pe=M()(ze,[["render",m]]);t["default"]=Pe},"71f6":function(e,t,n){"use strict";n("4959")},"749a":function(e,t,n){"use strict";n("1991")},"9cfc":function(e,t,n){},a804:function(e,t,n){"use strict";var a=n("f2bf");const o={class:"enquiry-header-title"},r={class:"enquiry-header-extra"};function i(e,t,n,i,l,c){const s=Object(a["resolveComponent"])("enquiry-name-title"),d=Object(a["resolveComponent"])("enquiry-label-picker");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])([{"enquiry-header--with-progress":!n.enquiry.order},"enquiry-header"])},[Object(a["createElementVNode"])("div",o,[Object(a["createVNode"])(s,{name:n.enquiry.name,"public-id":n.enquiry.publicId,order:n.enquiry.order},null,8,["name","public-id","order"])]),Object(a["createElementVNode"])("div",r,[n.enquiry.order?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,label:n.enquiry.order.label,onSelected:c.onLabelSelected},null,8,["label","onSelected"])):Object(a["createCommentVNode"])("",!0)])],2)}var l=n("5502");const c={class:"text-h3"},s={key:0,class:"small subtitle"};function d(e,t,n,o,r,i){const l=Object(a["resolveComponent"])("rating-stars");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.name)+" ",1),n.publicId?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",s," #"+Object(a["toDisplayString"])(n.publicId),1)):Object(a["createCommentVNode"])("",!0),i.grade?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:1,"rating-value":i.grade,class:"rating-stars"},null,8,["rating-value"])):Object(a["createCommentVNode"])("",!0)])}var u=n("0334"),m={components:{RatingStars:u["a"]},props:{name:{type:String,default:""},publicId:{type:String,default:""},order:{type:Object,default:()=>{}}},computed:{grade(){var e,t;return(null===(e=this.order)||void 0===e||null===(t=e.rating)||void 0===t?void 0:t.grade)||null}}},b=(n("f44b"),n("7f94")),p=n.n(b);const f=p()(m,[["render",d],["__scopeId","data-v-620f67d4"]]);var g=f,O=n("c8e4"),j={components:{EnquiryLabelPicker:O["a"],EnquiryNameTitle:g},props:{enquiry:{type:Object,required:!0}},methods:{...Object(l["b"])("enquiry",["updateLabel"]),async onLabelSelected(e){try{await this.updateLabel({label:e,enquiry:this.enquiry})}catch(t){this.$notification.error("Något gick fel, försök igen")}}}};n("6b21");const h=p()(j,[["render",i]]);t["a"]=h},b4e2:function(e,t,n){},b714d:function(e,t,n){},b9e7:function(e,t,n){"use strict";n("df2d")},c80c:function(e,t,n){"use strict";n("0c78")},ca42:function(e,t,n){"use strict";n("4b94")},dd4f:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"enquiryOrders"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enquiryId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enquiry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"enquiryId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderCount"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:153}};n.loc.source={body:"# This is used for polling and updating user as fast as possible\nquery enquiryOrders($enquiryId: ID!) {\n  enquiry(id: $enquiryId) {\n    orderCount\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var o={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function i(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=o[t]||new Set,i=new Set,l=new Set;a.forEach((function(e){l.add(e)}));while(l.size>0){var c=l;l=new Set,c.forEach((function(e){if(!i.has(e)){i.add(e);var t=o[e]||new Set;t.forEach((function(e){l.add(e)}))}}))}return i.forEach((function(t){var a=r(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}}))})(),e.exports=n,e.exports["enquiryOrders"]=i(n,"enquiryOrders")},df2d:function(e,t,n){},dff3:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"enquiryRecommendations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enquiryId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enquiry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"enquiryId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"similar"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"where"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"who"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignmentValue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"when"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"marketplaceSlots"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"orderCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:309}};n.loc.source={body:"query enquiryRecommendations($enquiryId: ID!) {\n  enquiry(id: $enquiryId) {\n    similar {\n      id\n      name\n      where {\n        name\n      }\n      who {\n        name\n      }\n      assignmentValue {\n        name\n      }\n      when {\n        name\n      }\n      marketplaceSlots\n      orderCount\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var o={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function i(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=o[t]||new Set,i=new Set,l=new Set;a.forEach((function(e){l.add(e)}));while(l.size>0){var c=l;l=new Set,c.forEach((function(e){if(!i.has(e)){i.add(e);var t=o[e]||new Set;t.forEach((function(e){l.add(e)}))}}))}return i.forEach((function(t){var a=r(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}}))})(),e.exports=n,e.exports["enquiryRecommendations"]=i(n,"enquiryRecommendations")},e85d:function(e,t,n){"use strict";var a=n("f2bf");const o={class:"modal-mask"},r=Object(a["createTextVNode"])("default header"),i={class:"modal-body"},l=Object(a["createTextVNode"])("default body"),c={key:0,class:"modal-footer"},s=Object(a["createTextVNode"])(" Avbryt "),d=Object(a["createTextVNode"])(" OK ");function u(e,t,n,u,m,b){const p=Object(a["resolveComponent"])("svg-icon");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"body"},[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",{class:"modal-outside",onClick:t[0]||(t[0]=Object(a["withModifiers"])((...e)=>b.closeModal&&b.closeModal(...e),["stop"]))}),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])([{"modal-small":n.small,"modal-large":n.large,"center-header":n.centerHeader,"center-body":n.centerBody,"full-height-mobile":n.fullHeightMobile,"long-text-buttons":n.longTextButtons},"modal-wrapper"])},[Object(a["renderSlot"])(e.$slots,"sticky-top",{},void 0,!0),Object(a["renderSlot"])(e.$slots,"note",{},void 0,!0),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])([{"no-padding":n.noPadding},"modal-content"])},[n.closeButton?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:"button-square button-transparent close-button",onClick:t[1]||(t[1]=Object(a["withModifiers"])((...e)=>b.close&&b.close(...e),["stop"]))},[Object(a["createVNode"])(p,{icon:"navigation/x-button",size:"mini"})])):Object(a["createCommentVNode"])("",!0),e.$slots.header?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:1,class:Object(a["normalizeClass"])(["media-content modal-header text-h4",{"extra-margin-right":n.closeButton}])},[Object(a["renderSlot"])(e.$slots,"header",{},()=>[r],!0)],2)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",i,[Object(a["renderSlot"])(e.$slots,"body",{},()=>[l],!0)])],2),n.disableFooter?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["modal-footer-content",{"center-button":n.singleButton}])},[n.singleButton?Object(a["createCommentVNode"])("",!0):Object(a["renderSlot"])(e.$slots,"cancel-button",{key:0},()=>[Object(a["createElementVNode"])("button",{class:"button-rounded button-primary-outline cancel-button",onClick:t[2]||(t[2]=t=>e.$emit("cancel"))},[Object(a["renderSlot"])(e.$slots,"cancel",{},()=>[s],!0)])],!0),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])([{"full-width":n.longTextButtons},{"modal-default-button":!n.singleButton}])},[Object(a["renderSlot"])(e.$slots,"confirm-button",{},()=>[Object(a["createElementVNode"])("button",{class:"button-rounded button-primary",onClick:t[3]||(t[3]=t=>e.$emit("confirm"))},[Object(a["renderSlot"])(e.$slots,"confirm",{},()=>[d],!0)])],!0)],2)],2)]))],2)])])}var m={emits:["cancel","confirm","close"],props:{closeButton:{type:Boolean,default:!1},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},centerHeader:{type:Boolean,default:!1},centerBody:{type:Boolean,default:!1},disableFooter:{type:Boolean,default:!1},singleButton:{type:Boolean,default:!1},noPadding:{type:Boolean,default:!1},fullHeightMobile:{type:Boolean,default:!1},longTextButtons:{type:Boolean,default:!1}},data(){return{showModal:!1}},created(){window.addEventListener("keydown",this.keyDown)},unmounted(){window.removeEventListener("keydown",this.keyDown),document.body.classList.remove("prevent-scroll")},methods:{keyDown(e){const t=this,n=e||window.event;let a=!1;a="key"in n?"Escape"===n.key||"Esc"===n.key:27===n.keyCode,a&&(t.$emit("cancel"),t.$emit("close")),document.body.classList.add("prevent-scroll")},close(){this.closeButton&&(this.$emit("cancel"),this.$emit("close"))},closeModal(){this.$emit("cancel")}}},b=(n("ca42"),n("7f94")),p=n.n(b);const f=p()(m,[["render",u],["__scopeId","data-v-390f0b04"]]);t["a"]=f},f44b:function(e,t,n){"use strict";n("b4e2")},f50d:function(e,t,n){"use strict";n("415a")},f9de:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5102be6d.e2be1856.js.map